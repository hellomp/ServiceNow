<div ng-if="!data.isValid">${Record not found}</div>
<div ng-if="data.isValid">
  <div class="panel panel-{{::options.color}} b">
    <div class="panel-heading">
      <h2 class="panel-title">
        ${Approval request for {{::task.table}} {{::task.number.display_value}}}
      </h2>
    </div>

    <div class="panel-body">
      <h4 ng-if="task.short_description">
        {{::task.short_description.display_value}}
      </h4>
      <div ng-if="task.opened_by">
        <label>${Opened by}</label> {{::task.opened_by.display_value}}
      </div>
      <div ng-if="task.requested_by">
        <label>${Requestor}</label> {{::task.requested_by.display_value}}
      </div>
      <div ng-if="::data.approver">
        <label>${Approver}</label> {{::data.approver}}
      </div>
      <div ng-if="task.start_date">
        <label>${Start}</label> {{::task.start_date.display_value}}
      </div>
      <div ng-if="task.end_date">
        <label>${End}</label> {{::task.end_date.display_value}}
      </div>
      <div ng-if="task.price.value > 0">
        <label>${Price}</label> {{::task.price.display_value}}
        <span ng-if="task.recurring_frequency.value != null"
          ><label>${Recurring price}</label>
          {{::task.recurring_price.display_value}}
          {{task.recurring_frequency.display_value}}</span
        >
        <label ng-if="task.quantity && task.quantity.value > 1"> ${each}</label>
      </div>

      <div ng-if="data.items.length > 0">
        <h3 class="h4">${Items in this Request}</h3>
        <div ng-repeat="item in data.items">
          <h4>{{::item.short_description}}</h4>
          <div ng-if="item.price">
            ${Price} {{::item.price}}
            <span ng-if="item.recurring_price"
              >${Recurring price} {{::item.recurring_price}}
              {{::item.recurring_frequency}}</span
            >
          </div>
          <sp-widget
            ng-if="item.variableSummarizerWidget"
            widget="item.variableSummarizerWidget"
          ></sp-widget>
          <sp-widget
            ng-if="item.variableEditorWidget"
            widget="item.variableEditorWidget"
          ></sp-widget>
        </div>
      </div>

      <sp-widget widget="data.variableSummarizerWidget"></sp-widget>
      <sp-widget widget="data.variableEditorWidget"></sp-widget>
    </div>
    <sp-widget widget="data.ticketConversation" />
  </div>
</div>
